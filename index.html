<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Игра с кубом</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: Arial, sans-serif;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(to bottom, #2b2b2b, #6e6e6e, #2b2b2b);
  }

  /* Фейковая Cloudflare проверка */
  #cf-check {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: #f7f7f7;
    color: #333;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10;
    text-align: center;
  }
  .spinner {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #3498db;
    border-radius: 50%;
    width: 40px; height: 40px;
    animation: spin 1s linear infinite;
    margin: 20px auto;
  }
  @keyframes spin {
    0% { transform: rotate(0deg);}
    100% { transform: rotate(360deg);}
  }

  /* Фон с кубом */
  .background {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    perspective: 1200px;
    z-index: 0;
  }

  .cube {
    position: relative;
    width: 400px;
    height: 400px;
    transform-style: preserve-3d;
    animation: spinCube 12s linear infinite;
  }

  .face {
    position: absolute;
    width: 400px;
    height: 400px;
    border: 2px solid #000;
  }

  .front  { transform: rotateY(0deg) translateZ(200px);  background: red; }
  .back   { transform: rotateY(180deg) translateZ(200px); background: blue; }
  .right  { transform: rotateY(90deg) translateZ(200px);  background: lime; }
  .left   { transform: rotateY(-90deg) translateZ(200px); background: orange; }
  .top    { transform: rotateX(90deg) translateZ(200px);  background: yellow; }
  .bottom { transform: rotateX(-90deg) translateZ(200px); background: purple; }

  @keyframes spinCube {
    0%   { transform: rotateX(0deg) rotateY(0deg); }
    100% { transform: rotateX(360deg) rotateY(360deg); }
  }

  /* Игра */
  .game {
    position: relative;
    z-index: 1;
    text-align: center;
    background: rgba(0,0,0,0.6);
    padding: 20px;
    border-radius: 12px;
    display: none; /* скрыта изначально */
  }

  button {
    font-size: 18px;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
  }

  #resetBtn {
    background: red;
    color: white;
  }
</style>
</head>
<body>
  <!-- Фейковая проверка -->
  <div id="cf-check">
    <h2>Checking your browser before accessing clicktonothing.netlify.app...</h2>
    <p>Please wait, this process is automatic. Your browser will redirect shortly.</p>
    <div class="spinner"></div>
    <button id="protectionBtn">Get Protection</button>
    <p>DDoS protection by <b>tg:exdevrev FREE!!</b></p>
  </div>

  <!-- Куб -->
  <div class="background">
    <div class="cube">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
  </div>

  <!-- Игра -->
  <div class="game" id="game">
    <h1>Нажми кнопку 1 000 000 раз!</h1>
    <p>Нажато: <span id="count">0</span>/1000000</p>
    <p>Клики за одно нажатие: <span id="perClick">1</span></p>
    <p>Автоклики в сек: <span id="autoClicks">0</span></p>
    <p>Престиж: <span id="prestige">0</span></p>

    <button id="clickBtn">Нажми меня!</button>
    <br>
    <button id="buyBtn">Купить улучшение (+1 за клик, стоимость: <span id="cost">100</span>)</button>
    <button id="buyBtn10">Купить улучшение x10</button>
    <br>
    <button id="autoBtn">Купить автоклик (+1/сек, стоимость: <span id="autoCost">100</span>)</button>
    <button id="autoBtn10">Купить автоклик x10</button>
    <br>
    <button id="prestigeBtn" style="display:none;">Prestige</button>
    <br>
    <button id="resetBtn">Reset</button>
  </div>

<script>
  // === Фейковая проверка ===
  const protectionBtn = document.getElementById('protectionBtn');
  protectionBtn.addEventListener('click', () => {
    window.open('https://t.me/exdevrev', '_blank');
  });

  setTimeout(() => {
    document.getElementById('cf-check').style.display = 'none';
    document.getElementById('game').style.display = 'block';
  }, 3000);

  // === Инициализация ===
  const countSpan = document.getElementById('count');
  const clickPerSpan = document.getElementById('perClick');
  const autoSpan = document.getElementById('autoClicks');
  const prestigeSpan = document.getElementById('prestige');
  const clickBtn = document.getElementById('clickBtn');
  const buyBtn = document.getElementById('buyBtn');
  const buyBtn10 = document.getElementById('buyBtn10');
  const autoBtn = document.getElementById('autoBtn');
  const autoBtn10 = document.getElementById('autoBtn10');
  const prestigeBtn = document.getElementById('prestigeBtn');
  const resetBtn = document.getElementById('resetBtn');

  let clicks = 0;
  let upgradeLevel = 0;
  let autoLevel = 0;
  let buyCost = 100;
  let autoCost = 100;
  let prestige = 0;
  const maxClicks = 1000000;

  function getClicksPerClick() { return 1 + upgradeLevel + prestige; }
  function getAutoPerSec() { return autoLevel + prestige; }

  // === Сохранение и загрузка прогресса ===
  function saveProgress() {
    localStorage.setItem('clickGameSave', JSON.stringify({
      clicks, upgradeLevel, autoLevel, buyCost, autoCost, prestige
    }));
  }

  function loadProgress() {
    const save = localStorage.getItem('clickGameSave');
    if(save){
      const data = JSON.parse(save);
      clicks = data.clicks;
      upgradeLevel = data.upgradeLevel;
      autoLevel = data.autoLevel;
      buyCost = data.buyCost;
      autoCost = data.autoCost;
      prestige = data.prestige;
    }
    updateUI();
  }

  function updateUI() {
    countSpan.textContent = clicks.toLocaleString();
    clickPerSpan.textContent = getClicksPerClick();
    autoSpan.textContent = getAutoPerSec();
    prestigeSpan.textContent = prestige;
    document.getElementById('cost').textContent = buyCost.toLocaleString();
    document.getElementById('autoCost').textContent = autoCost.toLocaleString();
    prestigeBtn.style.display = clicks >= maxClicks ? 'inline-block' : 'none';
  }

  // === Клики ===
  clickBtn.addEventListener('click', () => {
    clicks += getClicksPerClick();
    updateUI();
    saveProgress();
    checkVictory();
  });

  function buyUpgrade(times=1) {
    for(let i=0;i<times;i++){
      if(clicks >= buyCost){
        clicks -= buyCost;
        upgradeLevel++;
        buyCost = Math.floor(buyCost * 1.5);
      }
    }
    updateUI();
    saveProgress();
    checkVictory();
  }

  function buyAuto(times=1) {
    for(let i=0;i<times;i++){
      if(clicks >= autoCost){
        clicks -= autoCost;
        autoLevel++;
        autoCost = Math.floor(autoCost * 1.5);
      }
    }
    updateUI();
    saveProgress();
    checkVictory();
  }

  buyBtn.addEventListener('click', ()=>buyUpgrade(1));
  buyBtn10.addEventListener('click', ()=>buyUpgrade(10));
  autoBtn.addEventListener('click', ()=>buyAuto(1));
  autoBtn10.addEventListener('click', ()=>buyAuto(10));

  // === Автоклик ===
  setInterval(()=>{
    if(autoLevel>0){
      clicks += getAutoPerSec();
      updateUI();
      saveProgress();
      checkVictory();
    }
  },1000);

  // === Prestige ===
  prestigeBtn.addEventListener('click', ()=>{
    if(clicks>=maxClicks){
      clicks=0; upgradeLevel=0; autoLevel=0; buyCost=100; autoCost=100;
      prestige++;
      updateUI();
      saveProgress();
    }
  });

  // === Reset ===
  resetBtn.addEventListener('click', ()=>{
    if(confirm("Вы точно хотите сбросить весь прогресс?")){
      clicks=0; upgradeLevel=0; autoLevel=0; buyCost=100; autoCost=100; prestige=0;
      localStorage.removeItem('clickGameSave');
      updateUI();
    }
  });

  // === Проверка победы ===
  function checkVictory(){
    if(clicks>=maxClicks){
      alert('Поздравляем! Ты достиг 1 000 000 кликов!');
    }
  }

  // === Загрузка прогресса при старте ===
  loadProgress();
</script>
</body>
</html>
